  - platform: darksky
    api_key: !secret darksky_api_key
    monitored_conditions:
      - temperature
      - humidity
      - temperature_high
      - temperature_low
      - cloud_cover
      - precip_probability
      - precip_intensity
      - precip_intensity_max
  # - platform: plex
  - platform: wsdot
    api_key: !secret wsdot_api_key
    travel_time:
      - id: 43
        name: Downtown -> SeaTac drive time
  - platform: time_date
    display_options:
      - 'time'
  - platform: season
    type: astronomical
  - platform: template
    sensors:
      alarm_clock:
        friendly_name: Alarm Clock Status
        value_template: "{{ states.input_boolean.alarm_on.state == 'on' }}"
        entity_id: input_boolean.alarm_on
      alarm_clock_hour:
        value_template: '{{ states.input_number.alarm_clock_hour.state | int }}'
      alarm_clock_minute:
        value_template: '{{ states.input_number.alarm_clock_minute.state | int }}'
      alarm_clock_time:
        value_template: >-
          {{ states.sensor.alarm_clock_hour.state }}:
          {%- if states.sensor.alarm_clock_minute.state|length == 1 -%}
            0
          {%- endif -%}
            {{ states.sensor.alarm_clock_minute.state }}
      alarm_clock_time_long:
        value_template: >-
          {% if states.sensor.alarm_clock_hour.state|length == 1 -%}
            0
          {%- endif -%}
            {{ states.sensor.alarm_clock_hour.state }}:
          {%- if states.sensor.alarm_clock_minute.state|length == 1 -%}
            0
          {%- endif -%}
            {{ states.sensor.alarm_clock_minute.state }}
      roomba_battery:
        friendly_name: 'Roomba battery level'
        value_template: '{{ states.vacuum.roomba.attributes.battery_level }}'
        unit_of_measurement: '%'
      bathroom_motion_sensors:
        friendly_name: 'Bathroom Motion Sensors'
        value_template: >-
          {% if ((is_state('binary_sensor.motion_sensor_158d0002119c02', 'on')) or (is_state('binary_sensor.motion_sensor_158d00022399ea', 'on'))) %}
            on
          {% else %}
            off
          {% endif %}
      roomba_activity:
        friendly_name: 'Roomba Current Activity'
        value_template: "{{ states.vacuum.roomba.attributes.status }}"
      roomba_bin_present:
        friendly_name: 'Roomba Bin Connected'
        value_template: "{{ states.vacuum.roomba.attributes.bin_present }}"
      xiaomi_air_filter_life:
        friendly_name: 'Xiaomi Air Filter % Remaining'
        value_template: "{{ states.fan.xiaomi_miio_device.filter_life_remaining }}"
  - platform: lyft
    client_id: !secret lyft_client_id
    client_secret: !secret lyft_client_secret
    start_latitude: !secret latitude
    start_longitude: !secret longitude
    end_latitude: 47.623317
    end_longitude: -122.330080
    product_ids:
      - 'lyft'
      - 'lyft_line'
      # - 'lyft_plus'
      # - 'lyft_lux'
      # - 'lyft_lux_suv'
      # - 'lyft_premier'
  - platform: sabnzbd
    host: !secret container_host
    port: !secret sabnzbd_port
    api_key: !secret sabnzbd_api_key
    monitored_variables:
      - 'current_status'
      - 'speed'
      - 'queue_size'
  - platform: steam_online
    api_key: !secret steam_api_key
    accounts:
      - !secret steam_account_id

  - platform: xiaomi_miio
    name: Xiaomi Air Quality Monitor
    host: !secret xiaomi_air_ip
    token: !secret xiaomi_air_token
  # - platform: fedex
  #   username: !secret fedex_username
  #   password: !secret fedex_password
  # - platform: ups
  #   username: !secret ups_username
  #   password: !secret ups_password
  # - platform: template
  #   sensors:
  #     alarm_time:
  #       friendly_name: 'Ryan Alarm Time'
  #       value_template: '{{ "%0.02d:%0.02d" | format(states("input_number.alarm_hour") | int, states("input_number.alarm_minutes") | int) }}'